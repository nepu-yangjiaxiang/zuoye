<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #clock { width: 650px; height: 650px; margin: 0 auto; background: url(./images/timg.jpg); position: relative;}
        #hour { width: 150px;  height: 20px; background-color: chartreuse; position: absolute; left: 325px; top: 325px; transform-origin: 0 10px;}
        #mintues { width: 200px;  height: 20px; background-color: turquoise; position: absolute; left: 325px; top: 325px; transform-origin: 0 10px;}
        #seconeds { width: 250px;  height: 20px; background-color: tomato; position: absolute; left: 325px; top: 325px;
        transform-origin: 0 10px;}

        #timer { width: 400px; height: 100px; background-color: pink; margin: 0 auto; text-align: center;}
        #time { width: 440px; height: 50px; text-align: center; font-size: 50px; margin-bottom: 20px;}
    </style>
</head>

<body>
    <div id="clock">
        <div id="hour"></div>
        <div id="mintues"></div>
        <div id="seconeds"></div>
    </div>
    
    <div id="timer">
        <div id="time">00:00:00</div>
        <button id="start">开始</button>
        <button id="end">复位</button>
    </div>
    <script>
        /* var data = [
            { id: 1001, icon: "img/1.png", name: "餐饮0", num: 1, price: 10 },
            { id: 1002, icon: "img/2.png", name: "餐饮1", num: 1, price: 20 },
            { id: 1003, icon: "img/3.png", name: "餐饮2", num: 1, price: 30 },
            { id: 1004, icon: "img/4.png", name: "餐饮3", num: 1, price: 40 },
            { id: 1005, icon: "img/5.png", name: "餐饮4", num: 1, price: 50 },
            { id: 1006, icon: "img/6.png", name: "餐饮5", num: 1, price: 60 },
            { id: 1007, icon: "img/7.png", name: "餐饮6", num: 1, price: 70 },
            { id: 1008, icon: "img/8.png", name: "餐饮7", num: 1, price: 80 },
            { id: 1009, icon: "img/9.png", name: "餐饮8", num: 1, price: 90 },
            { id: 1010, icon: "img/10.png", name: "餐饮9", num: 1, price: 100 }
        ]; */
        
        /* var arr = [[1,2,3],[4,5,6],7,8,9];
        var arr1 = arr.flatMap(function(item,index,a){
            return item;
        });
        console.log(arr1); */

        // 重写flatMap方法
        /* var arr = [[1,2,3],78,[4,5,6],7,8,9];
        function flatMap(arr){
            arr1 =[];
            for(var i=0; i<arr.length; i++){
               myFunction(arr[i],i,arr);
            }
            return arr1;
        }
        function myFunction(item,index,arr){
            if(!Array.isArray(item)) return arr1.push(item);
            else{
                for(var i=0;i<arr[index].length; i++){
                    arr1.push(arr[index][i]);
                }
                return arr1;
            }
        }
        console.log(flatMap(arr)); */

        // 做时钟
        /* function myClock(){
            var clock = document.getElementById("clock");
            var item = clock.getElementsByTagName("div");
            time =0;
            setInterval(animation1,1000,item);
        }
        function animation1(item){
            time++;
            console.log(time);
            item[2].style.transform = "rotate("+time*6+"deg)";
            if(time%60 ===0)
            item[1].style.transform = "rotate("+time/60*6+"deg)";
            if(time%3600 ===0)
            item[0].style.transform = "rotate("+time/3600*6+"deg)";
        }
        myClock(); */

        // 定时器 弄不出来,明天搞搞
        function myTimer(){
            time = document.getElementById("time");
            var start = document.getElementById("start");
            var end = document.getElementById("end");
            
            start.onclick = startHander;
            end.onclick = endHander;
            
        }
        function startHander(){
            startTime = new Date();
            millisecond= startTime.getTime();
            id =   setInterval(changeTime,1);

        }
        function endHander(){
            time.innerHTML= "00:00:00";
            clearInterval(id);
        }
        function animation2(item){
            hour = date.getHours
            console.log(date);
        }
        function changeTime(){
            
            var date = new Date();
            var millisecond1 = date.getTime() - millisecond;
            var secondes1 = parseInt(millisecond1/1000);
            var mintues1 = parseInt(secondes1/60);
            console.log(millisecond1);
            millisecond1 = String(millisecond1%100).slice(0,2);
            secondes1 = String(secondes1%60).slice(0,2);
            mintues1 = String(mintues1%100).slice(0,2);
            if(millisecond1.length<2){
                millisecond1="0"+millisecond1;
            }
            if(secondes1.length<2){
                secondes1="0"+secondes1;
            }
            if(mintues1.length<2){
                mintues1="0"+mintues1;
            }
            time.innerHTML = mintues1  +":" + secondes1 +":"+ millisecond1;

        }
        myTimer();
    </script>
</body>

</html>